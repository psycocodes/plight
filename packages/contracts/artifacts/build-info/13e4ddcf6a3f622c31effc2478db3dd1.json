{"id":"13e4ddcf6a3f622c31effc2478db3dd1","_format":"hh-sol-build-info-1","solcVersion":"0.8.20","solcLongVersion":"0.8.20+commit.a1b79de6","input":{"language":"Solidity","sources":{"src/SampleProtocol.sol":{"content":"// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\n\r\n/**\r\n * @title IHealthPolicy\r\n * @dev Interface for the HealthPolicy contract.\r\n */\r\ninterface IHealthPolicy {\r\n    function isHealthy(\r\n        address user,\r\n        bytes calldata proof,\r\n        uint256[] calldata publicInputs\r\n    ) external view returns (bool);\r\n}\r\n\r\n/**\r\n * @title SampleProtocol\r\n * @notice Demonstrates how a real protocol integrates a Plight-style health check.\r\n * \r\n * INTEGRATION GUIDE:\r\n * 1. Protocol holds a reference to the Policy contract (HealthPolicy).\r\n * 2. Protocol does NOT perform eligibility logic itself.\r\n * 3. Protocol accepts a proof from the user and delegates verification to the Policy.\r\n */\r\ncontract SampleProtocol {\r\n    /// @notice Reference to the HealthPolicy contract.\r\n    IHealthPolicy public immutable healthPolicy;\r\n\r\n    /// @notice Emitted when a user health check is verified.\r\n    event HealthChecked(address indexed user, bool healthy);\r\n\r\n    error HealthCheckFailed();\r\n\r\n    /**\r\n     * @param _policy The address of the deployed HealthPolicy contract.\r\n     */\r\n    constructor(address _policy) {\r\n        require(_policy != address(0), \"Invalid policy address\");\r\n        healthPolicy = IHealthPolicy(_policy);\r\n    }\r\n\r\n    /**\r\n     * @notice Performs a health check for the calling user.\r\n     * @dev Called by the user (client-side) passing their generated ZK proof.\r\n     * @param proof The ZK proof bytes (Groth16).\r\n     * @param publicInputs The public signals required by the ZK circuit.\r\n     * \r\n     * NOTE: ZK proof generation happens entirely client-side. The protocol\r\n     * simply acts as a Verifier-Consumer, gating action based on the result.\r\n     */\r\n    function checkHealth(\r\n        bytes calldata proof,\r\n        uint256[] calldata publicInputs\r\n    ) external {\r\n        // 1. Call Policy to verify eligibility\r\n        // The policy contract wraps the ZK verifier and ensures the proof binds to msg.sender.\r\n        // We pass msg.sender to enforce that the proof belongs to the caller.\r\n        bool isEligible = healthPolicy.isHealthy(msg.sender, proof, publicInputs);\r\n\r\n        if (!isEligible) {\r\n            revert HealthCheckFailed();\r\n        }\r\n\r\n        // 2. Perform Protocol Action\r\n        // In a real protocol, this is where you would allow:\r\n        // - Under-collateralized borrowing\r\n        // - Specialized access\r\n        // - Fee discounts\r\n        \r\n        emit HealthChecked(msg.sender, isEligible);\r\n    }\r\n}\r\n"}},"settings":{"optimizer":{"enabled":true,"runs":200},"viaIR":true,"evmVersion":"paris","outputSelection":{"*":{"*":["abi","evm.bytecode","evm.deployedBytecode","evm.methodIdentifiers","metadata"],"":["ast"]}}}},"output":{"sources":{"src/SampleProtocol.sol":{"ast":{"absolutePath":"src/SampleProtocol.sol","exportedSymbols":{"IHealthPolicy":[15],"SampleProtocol":[86]},"id":87,"license":"MIT","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.8",".0"],"nodeType":"PragmaDirective","src":"33:23:0"},{"abstract":false,"baseContracts":[],"canonicalName":"IHealthPolicy","contractDependencies":[],"contractKind":"interface","documentation":{"id":2,"nodeType":"StructuredDocumentation","src":"60:83:0","text":" @title IHealthPolicy\n @dev Interface for the HealthPolicy contract."},"fullyImplemented":false,"id":15,"linearizedBaseContracts":[15],"name":"IHealthPolicy","nameLocation":"155:13:0","nodeType":"ContractDefinition","nodes":[{"functionSelector":"4e8ee36e","id":14,"implemented":false,"kind":"function","modifiers":[],"name":"isHealthy","nameLocation":"185:9:0","nodeType":"FunctionDefinition","parameters":{"id":10,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4,"mutability":"mutable","name":"user","nameLocation":"213:4:0","nodeType":"VariableDeclaration","scope":14,"src":"205:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3,"name":"address","nodeType":"ElementaryTypeName","src":"205:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":6,"mutability":"mutable","name":"proof","nameLocation":"243:5:0","nodeType":"VariableDeclaration","scope":14,"src":"228:20:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":5,"name":"bytes","nodeType":"ElementaryTypeName","src":"228:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":9,"mutability":"mutable","name":"publicInputs","nameLocation":"278:12:0","nodeType":"VariableDeclaration","scope":14,"src":"259:31:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":7,"name":"uint256","nodeType":"ElementaryTypeName","src":"259:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8,"nodeType":"ArrayTypeName","src":"259:9:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"194:103:0"},"returnParameters":{"id":13,"nodeType":"ParameterList","parameters":[{"constant":false,"id":12,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":14,"src":"321:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11,"name":"bool","nodeType":"ElementaryTypeName","src":"321:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"320:6:0"},"scope":15,"src":"176:151:0","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":87,"src":"145:185:0","usedErrors":[],"usedEvents":[]},{"abstract":false,"baseContracts":[],"canonicalName":"SampleProtocol","contractDependencies":[],"contractKind":"contract","documentation":{"id":16,"nodeType":"StructuredDocumentation","src":"334:367:0","text":" @title SampleProtocol\n @notice Demonstrates how a real protocol integrates a Plight-style health check.\n \n INTEGRATION GUIDE:\n 1. Protocol holds a reference to the Policy contract (HealthPolicy).\n 2. Protocol does NOT perform eligibility logic itself.\n 3. Protocol accepts a proof from the user and delegates verification to the Policy."},"fullyImplemented":true,"id":86,"linearizedBaseContracts":[86],"name":"SampleProtocol","nameLocation":"712:14:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"documentation":{"id":17,"nodeType":"StructuredDocumentation","src":"734:51:0","text":"@notice Reference to the HealthPolicy contract."},"functionSelector":"666dfd8c","id":20,"mutability":"immutable","name":"healthPolicy","nameLocation":"822:12:0","nodeType":"VariableDeclaration","scope":86,"src":"791:43:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHealthPolicy_$15","typeString":"contract IHealthPolicy"},"typeName":{"id":19,"nodeType":"UserDefinedTypeName","pathNode":{"id":18,"name":"IHealthPolicy","nameLocations":["791:13:0"],"nodeType":"IdentifierPath","referencedDeclaration":15,"src":"791:13:0"},"referencedDeclaration":15,"src":"791:13:0","typeDescriptions":{"typeIdentifier":"t_contract$_IHealthPolicy_$15","typeString":"contract IHealthPolicy"}},"visibility":"public"},{"anonymous":false,"documentation":{"id":21,"nodeType":"StructuredDocumentation","src":"843:57:0","text":"@notice Emitted when a user health check is verified."},"eventSelector":"59f72b88775ec111625b740c2b38d8f6e163e79ce4fc1896f22c8337129b051e","id":27,"name":"HealthChecked","nameLocation":"912:13:0","nodeType":"EventDefinition","parameters":{"id":26,"nodeType":"ParameterList","parameters":[{"constant":false,"id":23,"indexed":true,"mutability":"mutable","name":"user","nameLocation":"942:4:0","nodeType":"VariableDeclaration","scope":27,"src":"926:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":22,"name":"address","nodeType":"ElementaryTypeName","src":"926:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":25,"indexed":false,"mutability":"mutable","name":"healthy","nameLocation":"953:7:0","nodeType":"VariableDeclaration","scope":27,"src":"948:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":24,"name":"bool","nodeType":"ElementaryTypeName","src":"948:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"925:36:0"},"src":"906:56:0"},{"errorSelector":"c196dcf3","id":29,"name":"HealthCheckFailed","nameLocation":"976:17:0","nodeType":"ErrorDefinition","parameters":{"id":28,"nodeType":"ParameterList","parameters":[],"src":"993:2:0"},"src":"970:26:0"},{"body":{"id":51,"nodeType":"Block","src":"1125:123:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":41,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36,"name":"_policy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32,"src":"1144:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":39,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1163:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":38,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1155:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":37,"name":"address","nodeType":"ElementaryTypeName","src":"1155:7:0","typeDescriptions":{}}},"id":40,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1155:10:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1144:21:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420706f6c6963792061646472657373","id":42,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1167:24:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_4ea3a35ab49bfc0cce0691463758369a326b434ff8ada8b48edddf372adbafcc","typeString":"literal_string \"Invalid policy address\""},"value":"Invalid policy address"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4ea3a35ab49bfc0cce0691463758369a326b434ff8ada8b48edddf372adbafcc","typeString":"literal_string \"Invalid policy address\""}],"id":35,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1136:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":43,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1136:56:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44,"nodeType":"ExpressionStatement","src":"1136:56:0"},{"expression":{"id":49,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45,"name":"healthPolicy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":20,"src":"1203:12:0","typeDescriptions":{"typeIdentifier":"t_contract$_IHealthPolicy_$15","typeString":"contract IHealthPolicy"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":47,"name":"_policy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32,"src":"1232:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":46,"name":"IHealthPolicy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15,"src":"1218:13:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHealthPolicy_$15_$","typeString":"type(contract IHealthPolicy)"}},"id":48,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1218:22:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IHealthPolicy_$15","typeString":"contract IHealthPolicy"}},"src":"1203:37:0","typeDescriptions":{"typeIdentifier":"t_contract$_IHealthPolicy_$15","typeString":"contract IHealthPolicy"}},"id":50,"nodeType":"ExpressionStatement","src":"1203:37:0"}]},"documentation":{"id":30,"nodeType":"StructuredDocumentation","src":"1004:86:0","text":" @param _policy The address of the deployed HealthPolicy contract."},"id":52,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":33,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32,"mutability":"mutable","name":"_policy","nameLocation":"1116:7:0","nodeType":"VariableDeclaration","scope":52,"src":"1108:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":31,"name":"address","nodeType":"ElementaryTypeName","src":"1108:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1107:17:0"},"returnParameters":{"id":34,"nodeType":"ParameterList","parameters":[],"src":"1125:0:0"},"scope":86,"src":"1096:152:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":84,"nodeType":"Block","src":"1817:673:0","statements":[{"assignments":[62],"declarations":[{"constant":false,"id":62,"mutability":"mutable","name":"isEligible","nameLocation":"2059:10:0","nodeType":"VariableDeclaration","scope":84,"src":"2054:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":61,"name":"bool","nodeType":"ElementaryTypeName","src":"2054:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":70,"initialValue":{"arguments":[{"expression":{"id":65,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2095:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":66,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2099:6:0","memberName":"sender","nodeType":"MemberAccess","src":"2095:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":67,"name":"proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55,"src":"2107:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"id":68,"name":"publicInputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":58,"src":"2114:12:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}],"expression":{"id":63,"name":"healthPolicy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":20,"src":"2072:12:0","typeDescriptions":{"typeIdentifier":"t_contract$_IHealthPolicy_$15","typeString":"contract IHealthPolicy"}},"id":64,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2085:9:0","memberName":"isHealthy","nodeType":"MemberAccess","referencedDeclaration":14,"src":"2072:22:0","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_bytes_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (address,bytes memory,uint256[] memory) view external returns (bool)"}},"id":69,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2072:55:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"2054:73:0"},{"condition":{"id":72,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"2144:11:0","subExpression":{"id":71,"name":"isEligible","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62,"src":"2145:10:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":77,"nodeType":"IfStatement","src":"2140:70:0","trueBody":{"id":76,"nodeType":"Block","src":"2157:53:0","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73,"name":"HealthCheckFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":29,"src":"2179:17:0","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":74,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2179:19:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":75,"nodeType":"RevertStatement","src":"2172:26:0"}]}},{"eventCall":{"arguments":[{"expression":{"id":79,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2459:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":80,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2463:6:0","memberName":"sender","nodeType":"MemberAccess","src":"2459:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":81,"name":"isEligible","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62,"src":"2471:10:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":78,"name":"HealthChecked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27,"src":"2445:13:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_bool_$returns$__$","typeString":"function (address,bool)"}},"id":82,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2445:37:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":83,"nodeType":"EmitStatement","src":"2440:42:0"}]},"documentation":{"id":53,"nodeType":"StructuredDocumentation","src":"1256:445:0","text":" @notice Performs a health check for the calling user.\n @dev Called by the user (client-side) passing their generated ZK proof.\n @param proof The ZK proof bytes (Groth16).\n @param publicInputs The public signals required by the ZK circuit.\n \n NOTE: ZK proof generation happens entirely client-side. The protocol\n simply acts as a Verifier-Consumer, gating action based on the result."},"functionSelector":"744eb381","id":85,"implemented":true,"kind":"function","modifiers":[],"name":"checkHealth","nameLocation":"1716:11:0","nodeType":"FunctionDefinition","parameters":{"id":59,"nodeType":"ParameterList","parameters":[{"constant":false,"id":55,"mutability":"mutable","name":"proof","nameLocation":"1753:5:0","nodeType":"VariableDeclaration","scope":85,"src":"1738:20:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":54,"name":"bytes","nodeType":"ElementaryTypeName","src":"1738:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":58,"mutability":"mutable","name":"publicInputs","nameLocation":"1788:12:0","nodeType":"VariableDeclaration","scope":85,"src":"1769:31:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":56,"name":"uint256","nodeType":"ElementaryTypeName","src":"1769:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":57,"nodeType":"ArrayTypeName","src":"1769:9:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"1727:80:0"},"returnParameters":{"id":60,"nodeType":"ParameterList","parameters":[],"src":"1817:0:0"},"scope":86,"src":"1707:783:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"scope":87,"src":"703:1790:0","usedErrors":[29],"usedEvents":[27]}],"src":"33:2462:0"},"id":0}},"contracts":{"src/SampleProtocol.sol":{"IHealthPolicy":{"abi":[{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes","name":"proof","type":"bytes"},{"internalType":"uint256[]","name":"publicInputs","type":"uint256[]"}],"name":"isHealthy","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}],"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"","opcodes":"","sourceMap":""},"deployedBytecode":{"functionDebugData":{},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"","opcodes":"","sourceMap":""},"methodIdentifiers":{"isHealthy(address,bytes,uint256[])":"4e8ee36e"}},"metadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"proof\",\"type\":\"bytes\"},{\"internalType\":\"uint256[]\",\"name\":\"publicInputs\",\"type\":\"uint256[]\"}],\"name\":\"isHealthy\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Interface for the HealthPolicy contract.\",\"kind\":\"dev\",\"methods\":{},\"title\":\"IHealthPolicy\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/SampleProtocol.sol\":\"IHealthPolicy\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"src/SampleProtocol.sol\":{\"keccak256\":\"0xba6b9416282eede40815227a029ca473c33c3ed8f29ec8f3418bc141773c3dba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0f6fa737e7a279974d38c0dc20fe42fa0570bfccc2122e8e85e352fbe0914142\",\"dweb:/ipfs/QmXHCqSh53qN1BfmWruicRBUt3ZAcMUW3Pf2u2rSX7T1DT\"]}},\"version\":1}"},"SampleProtocol":{"abi":[{"inputs":[{"internalType":"address","name":"_policy","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"HealthCheckFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"bool","name":"healthy","type":"bool"}],"name":"HealthChecked","type":"event"},{"inputs":[{"internalType":"bytes","name":"proof","type":"bytes"},{"internalType":"uint256[]","name":"publicInputs","type":"uint256[]"}],"name":"checkHealth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"healthPolicy","outputs":[{"internalType":"contract IHealthPolicy","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"60a0346100be57601f61037938819003918201601f19168301916001600160401b038311848410176100c3578084926020946040528339810103126100be57516001600160a01b038116908190036100be5780156100795760805260405161029f90816100da823960805181818161011c01526102360152f35b60405162461bcd60e51b815260206004820152601660248201527f496e76616c696420706f6c6963792061646472657373000000000000000000006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe6080604081815260048036101561001557600080fd5b600092833560e01c908163666dfd8c14610222575063744eb3811461003957600080fd5b3461021e578160031936011261021e5767ffffffffffffffff813581811161021a573660238201121561021a5780830135828111610216576024923684838501011161021257833581811161020e573660238201121561020e578086013582811161020a578060051b90368783850101116102065784601f95888b519863274771b760e11b8a52338c8b01526060828b01528260648b01520160848901378a6084828901015285199586910116860190608087830301604488015280608483015260018060fb1b031061020657858260a49282948a6020970185830137010301817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa9384156101fc57879461019a575b505050501561018c575051600181527f59f72b88775ec111625b740c2b38d8f6e163e79ce4fc1896f22c8337129b051e60203392a280f35b905163c196dcf360e01b8152fd5b90919293506020923d84116101f4575b601f8401168401918211848310176101e3575060209183918652810103126101df575180151581036101df5738808080610154565b8380fd5b634e487b7160e01b87526041855286fd5b3d93506101aa565b86513d89823e3d90fd5b8980fd5b8880fd5b8780fd5b8680fd5b8580fd5b8480fd5b8280fd5b8490346102655781600319360112610265577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5080fdfea26469706673582212205e639432d8804169902ba69777b9c61440c48d6313e60d284592f14a9cdec1df64736f6c63430008140033","opcodes":"PUSH1 0xA0 CALLVALUE PUSH2 0xBE JUMPI PUSH1 0x1F PUSH2 0x379 CODESIZE DUP2 SWAP1 SUB SWAP2 DUP3 ADD PUSH1 0x1F NOT AND DUP4 ADD SWAP2 PUSH1 0x1 PUSH1 0x1 PUSH1 0x40 SHL SUB DUP4 GT DUP5 DUP5 LT OR PUSH2 0xC3 JUMPI DUP1 DUP5 SWAP3 PUSH1 0x20 SWAP5 PUSH1 0x40 MSTORE DUP4 CODECOPY DUP2 ADD SUB SLT PUSH2 0xBE JUMPI MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP2 AND SWAP1 DUP2 SWAP1 SUB PUSH2 0xBE JUMPI DUP1 ISZERO PUSH2 0x79 JUMPI PUSH1 0x80 MSTORE PUSH1 0x40 MLOAD PUSH2 0x29F SWAP1 DUP2 PUSH2 0xDA DUP3 CODECOPY PUSH1 0x80 MLOAD DUP2 DUP2 DUP2 PUSH2 0x11C ADD MSTORE PUSH2 0x236 ADD MSTORE RETURN JUMPDEST PUSH1 0x40 MLOAD PUSH3 0x461BCD PUSH1 0xE5 SHL DUP2 MSTORE PUSH1 0x20 PUSH1 0x4 DUP3 ADD MSTORE PUSH1 0x16 PUSH1 0x24 DUP3 ADD MSTORE PUSH32 0x496E76616C696420706F6C696379206164647265737300000000000000000000 PUSH1 0x44 DUP3 ADD MSTORE PUSH1 0x64 SWAP1 REVERT JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x41 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT INVALID PUSH1 0x80 PUSH1 0x40 DUP2 DUP2 MSTORE PUSH1 0x4 DUP1 CALLDATASIZE LT ISZERO PUSH2 0x15 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP3 DUP4 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x666DFD8C EQ PUSH2 0x222 JUMPI POP PUSH4 0x744EB381 EQ PUSH2 0x39 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x21E JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x21E JUMPI PUSH8 0xFFFFFFFFFFFFFFFF DUP2 CALLDATALOAD DUP2 DUP2 GT PUSH2 0x21A JUMPI CALLDATASIZE PUSH1 0x23 DUP3 ADD SLT ISZERO PUSH2 0x21A JUMPI DUP1 DUP4 ADD CALLDATALOAD DUP3 DUP2 GT PUSH2 0x216 JUMPI PUSH1 0x24 SWAP3 CALLDATASIZE DUP5 DUP4 DUP6 ADD ADD GT PUSH2 0x212 JUMPI DUP4 CALLDATALOAD DUP2 DUP2 GT PUSH2 0x20E JUMPI CALLDATASIZE PUSH1 0x23 DUP3 ADD SLT ISZERO PUSH2 0x20E JUMPI DUP1 DUP7 ADD CALLDATALOAD DUP3 DUP2 GT PUSH2 0x20A JUMPI DUP1 PUSH1 0x5 SHL SWAP1 CALLDATASIZE DUP8 DUP4 DUP6 ADD ADD GT PUSH2 0x206 JUMPI DUP5 PUSH1 0x1F SWAP6 DUP9 DUP12 MLOAD SWAP9 PUSH4 0x274771B7 PUSH1 0xE1 SHL DUP11 MSTORE CALLER DUP13 DUP12 ADD MSTORE PUSH1 0x60 DUP3 DUP12 ADD MSTORE DUP3 PUSH1 0x64 DUP12 ADD MSTORE ADD PUSH1 0x84 DUP10 ADD CALLDATACOPY DUP11 PUSH1 0x84 DUP3 DUP10 ADD ADD MSTORE DUP6 NOT SWAP6 DUP7 SWAP2 ADD AND DUP7 ADD SWAP1 PUSH1 0x80 DUP8 DUP4 SUB ADD PUSH1 0x44 DUP9 ADD MSTORE DUP1 PUSH1 0x84 DUP4 ADD MSTORE PUSH1 0x1 DUP1 PUSH1 0xFB SHL SUB LT PUSH2 0x206 JUMPI DUP6 DUP3 PUSH1 0xA4 SWAP3 DUP3 SWAP5 DUP11 PUSH1 0x20 SWAP8 ADD DUP6 DUP4 ADD CALLDATACOPY ADD SUB ADD DUP2 PUSH32 0x0 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND GAS STATICCALL SWAP4 DUP5 ISZERO PUSH2 0x1FC JUMPI DUP8 SWAP5 PUSH2 0x19A JUMPI JUMPDEST POP POP POP POP ISZERO PUSH2 0x18C JUMPI POP MLOAD PUSH1 0x1 DUP2 MSTORE PUSH32 0x59F72B88775EC111625B740C2B38D8F6E163E79CE4FC1896F22C8337129B051E PUSH1 0x20 CALLER SWAP3 LOG2 DUP1 RETURN JUMPDEST SWAP1 MLOAD PUSH4 0xC196DCF3 PUSH1 0xE0 SHL DUP2 MSTORE REVERT JUMPDEST SWAP1 SWAP2 SWAP3 SWAP4 POP PUSH1 0x20 SWAP3 RETURNDATASIZE DUP5 GT PUSH2 0x1F4 JUMPI JUMPDEST PUSH1 0x1F DUP5 ADD AND DUP5 ADD SWAP2 DUP3 GT DUP5 DUP4 LT OR PUSH2 0x1E3 JUMPI POP PUSH1 0x20 SWAP2 DUP4 SWAP2 DUP7 MSTORE DUP2 ADD SUB SLT PUSH2 0x1DF JUMPI MLOAD DUP1 ISZERO ISZERO DUP2 SUB PUSH2 0x1DF JUMPI CODESIZE DUP1 DUP1 DUP1 PUSH2 0x154 JUMP JUMPDEST DUP4 DUP1 REVERT JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL DUP8 MSTORE PUSH1 0x41 DUP6 MSTORE DUP7 REVERT JUMPDEST RETURNDATASIZE SWAP4 POP PUSH2 0x1AA JUMP JUMPDEST DUP7 MLOAD RETURNDATASIZE DUP10 DUP3 RETURNDATACOPY RETURNDATASIZE SWAP1 REVERT JUMPDEST DUP10 DUP1 REVERT JUMPDEST DUP9 DUP1 REVERT JUMPDEST DUP8 DUP1 REVERT JUMPDEST DUP7 DUP1 REVERT JUMPDEST DUP6 DUP1 REVERT JUMPDEST DUP5 DUP1 REVERT JUMPDEST DUP3 DUP1 REVERT JUMPDEST DUP5 SWAP1 CALLVALUE PUSH2 0x265 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x265 JUMPI PUSH32 0x0 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP DUP1 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0x5E PUSH4 0x9432D880 COINBASE PUSH10 0x902BA69777B9C61440C4 DUP14 PUSH4 0x13E60D28 GASLIMIT SWAP3 CALL 0x4A SWAP13 0xDE 0xC1 0xDF PUSH5 0x736F6C6343 STOP ADDMOD EQ STOP CALLER ","sourceMap":"703:1790:0:-:0;;;;;;;;;;;;;-1:-1:-1;;703:1790:0;;;;-1:-1:-1;;;;;703:1790:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;703:1790:0;;;;;;;;1144:21;;703:1790;;1203:37;;703:1790;;;;;;;;1203:37;703:1790;;;;;;;;;;;;;;-1:-1:-1;;;703:1790:0;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;703:1790:0;;;;;;-1:-1:-1;703:1790:0;;;;;-1:-1:-1;703:1790:0"},"deployedBytecode":{"functionDebugData":{},"generatedSources":[],"immutableReferences":{"20":[{"length":32,"start":284},{"length":32,"start":566}]},"linkReferences":{},"object":"6080604081815260048036101561001557600080fd5b600092833560e01c908163666dfd8c14610222575063744eb3811461003957600080fd5b3461021e578160031936011261021e5767ffffffffffffffff813581811161021a573660238201121561021a5780830135828111610216576024923684838501011161021257833581811161020e573660238201121561020e578086013582811161020a578060051b90368783850101116102065784601f95888b519863274771b760e11b8a52338c8b01526060828b01528260648b01520160848901378a6084828901015285199586910116860190608087830301604488015280608483015260018060fb1b031061020657858260a49282948a6020970185830137010301817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa9384156101fc57879461019a575b505050501561018c575051600181527f59f72b88775ec111625b740c2b38d8f6e163e79ce4fc1896f22c8337129b051e60203392a280f35b905163c196dcf360e01b8152fd5b90919293506020923d84116101f4575b601f8401168401918211848310176101e3575060209183918652810103126101df575180151581036101df5738808080610154565b8380fd5b634e487b7160e01b87526041855286fd5b3d93506101aa565b86513d89823e3d90fd5b8980fd5b8880fd5b8780fd5b8680fd5b8580fd5b8480fd5b8280fd5b8490346102655781600319360112610265577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5080fdfea26469706673582212205e639432d8804169902ba69777b9c61440c48d6313e60d284592f14a9cdec1df64736f6c63430008140033","opcodes":"PUSH1 0x80 PUSH1 0x40 DUP2 DUP2 MSTORE PUSH1 0x4 DUP1 CALLDATASIZE LT ISZERO PUSH2 0x15 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP3 DUP4 CALLDATALOAD PUSH1 0xE0 SHR SWAP1 DUP2 PUSH4 0x666DFD8C EQ PUSH2 0x222 JUMPI POP PUSH4 0x744EB381 EQ PUSH2 0x39 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST CALLVALUE PUSH2 0x21E JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x21E JUMPI PUSH8 0xFFFFFFFFFFFFFFFF DUP2 CALLDATALOAD DUP2 DUP2 GT PUSH2 0x21A JUMPI CALLDATASIZE PUSH1 0x23 DUP3 ADD SLT ISZERO PUSH2 0x21A JUMPI DUP1 DUP4 ADD CALLDATALOAD DUP3 DUP2 GT PUSH2 0x216 JUMPI PUSH1 0x24 SWAP3 CALLDATASIZE DUP5 DUP4 DUP6 ADD ADD GT PUSH2 0x212 JUMPI DUP4 CALLDATALOAD DUP2 DUP2 GT PUSH2 0x20E JUMPI CALLDATASIZE PUSH1 0x23 DUP3 ADD SLT ISZERO PUSH2 0x20E JUMPI DUP1 DUP7 ADD CALLDATALOAD DUP3 DUP2 GT PUSH2 0x20A JUMPI DUP1 PUSH1 0x5 SHL SWAP1 CALLDATASIZE DUP8 DUP4 DUP6 ADD ADD GT PUSH2 0x206 JUMPI DUP5 PUSH1 0x1F SWAP6 DUP9 DUP12 MLOAD SWAP9 PUSH4 0x274771B7 PUSH1 0xE1 SHL DUP11 MSTORE CALLER DUP13 DUP12 ADD MSTORE PUSH1 0x60 DUP3 DUP12 ADD MSTORE DUP3 PUSH1 0x64 DUP12 ADD MSTORE ADD PUSH1 0x84 DUP10 ADD CALLDATACOPY DUP11 PUSH1 0x84 DUP3 DUP10 ADD ADD MSTORE DUP6 NOT SWAP6 DUP7 SWAP2 ADD AND DUP7 ADD SWAP1 PUSH1 0x80 DUP8 DUP4 SUB ADD PUSH1 0x44 DUP9 ADD MSTORE DUP1 PUSH1 0x84 DUP4 ADD MSTORE PUSH1 0x1 DUP1 PUSH1 0xFB SHL SUB LT PUSH2 0x206 JUMPI DUP6 DUP3 PUSH1 0xA4 SWAP3 DUP3 SWAP5 DUP11 PUSH1 0x20 SWAP8 ADD DUP6 DUP4 ADD CALLDATACOPY ADD SUB ADD DUP2 PUSH32 0x0 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND GAS STATICCALL SWAP4 DUP5 ISZERO PUSH2 0x1FC JUMPI DUP8 SWAP5 PUSH2 0x19A JUMPI JUMPDEST POP POP POP POP ISZERO PUSH2 0x18C JUMPI POP MLOAD PUSH1 0x1 DUP2 MSTORE PUSH32 0x59F72B88775EC111625B740C2B38D8F6E163E79CE4FC1896F22C8337129B051E PUSH1 0x20 CALLER SWAP3 LOG2 DUP1 RETURN JUMPDEST SWAP1 MLOAD PUSH4 0xC196DCF3 PUSH1 0xE0 SHL DUP2 MSTORE REVERT JUMPDEST SWAP1 SWAP2 SWAP3 SWAP4 POP PUSH1 0x20 SWAP3 RETURNDATASIZE DUP5 GT PUSH2 0x1F4 JUMPI JUMPDEST PUSH1 0x1F DUP5 ADD AND DUP5 ADD SWAP2 DUP3 GT DUP5 DUP4 LT OR PUSH2 0x1E3 JUMPI POP PUSH1 0x20 SWAP2 DUP4 SWAP2 DUP7 MSTORE DUP2 ADD SUB SLT PUSH2 0x1DF JUMPI MLOAD DUP1 ISZERO ISZERO DUP2 SUB PUSH2 0x1DF JUMPI CODESIZE DUP1 DUP1 DUP1 PUSH2 0x154 JUMP JUMPDEST DUP4 DUP1 REVERT JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL DUP8 MSTORE PUSH1 0x41 DUP6 MSTORE DUP7 REVERT JUMPDEST RETURNDATASIZE SWAP4 POP PUSH2 0x1AA JUMP JUMPDEST DUP7 MLOAD RETURNDATASIZE DUP10 DUP3 RETURNDATACOPY RETURNDATASIZE SWAP1 REVERT JUMPDEST DUP10 DUP1 REVERT JUMPDEST DUP9 DUP1 REVERT JUMPDEST DUP8 DUP1 REVERT JUMPDEST DUP7 DUP1 REVERT JUMPDEST DUP6 DUP1 REVERT JUMPDEST DUP5 DUP1 REVERT JUMPDEST DUP3 DUP1 REVERT JUMPDEST DUP5 SWAP1 CALLVALUE PUSH2 0x265 JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x265 JUMPI PUSH32 0x0 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP2 MSTORE PUSH1 0x20 SWAP1 RETURN JUMPDEST POP DUP1 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0x5E PUSH4 0x9432D880 COINBASE PUSH10 0x902BA69777B9C61440C4 DUP14 PUSH4 0x13E60D28 GASLIMIT SWAP3 CALL 0x4A SWAP13 0xDE 0xC1 0xDF PUSH5 0x736F6C6343 STOP ADDMOD EQ STOP CALLER ","sourceMap":"703:1790:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2072:55;;2095:10;2072:55;;;703:1790;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;703:1790:0;;;;;;;;;;;;;;;;;2072:55;;703:1790;2072:12;-1:-1:-1;;;;;703:1790:0;2072:55;;;;;;;;;;;703:1790;2144:11;;;;;2140:70;;703:1790;;;;;2445:37;703:1790;2095:10;2445:37;;703:1790;;2140:70;703:1790;;-1:-1:-1;;;2179:19:0;;;2072:55;;;;;;703:1790;2072:55;;;;;;;703:1790;;;;;;;;;;;;;;;;;;;;;;2072:55;;703:1790;;;;;;;;;;;;2072:55;;;;;;703:1790;;;;;-1:-1:-1;;;703:1790:0;;;;;;;2072:55;;;-1:-1:-1;2072:55:0;;;703:1790;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;791:43;-1:-1:-1;;;;;703:1790:0;;;;;;;;;"},"methodIdentifiers":{"checkHealth(bytes,uint256[])":"744eb381","healthPolicy()":"666dfd8c"}},"metadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_policy\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"HealthCheckFailed\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"healthy\",\"type\":\"bool\"}],\"name\":\"HealthChecked\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"proof\",\"type\":\"bytes\"},{\"internalType\":\"uint256[]\",\"name\":\"publicInputs\",\"type\":\"uint256[]\"}],\"name\":\"checkHealth\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"healthPolicy\",\"outputs\":[{\"internalType\":\"contract IHealthPolicy\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"checkHealth(bytes,uint256[])\":{\"details\":\"Called by the user (client-side) passing their generated ZK proof.\",\"params\":{\"proof\":\"The ZK proof bytes (Groth16).\",\"publicInputs\":\"The public signals required by the ZK circuit.  NOTE: ZK proof generation happens entirely client-side. The protocol simply acts as a Verifier-Consumer, gating action based on the result.\"}},\"constructor\":{\"params\":{\"_policy\":\"The address of the deployed HealthPolicy contract.\"}}},\"title\":\"SampleProtocol\",\"version\":1},\"userdoc\":{\"events\":{\"HealthChecked(address,bool)\":{\"notice\":\"Emitted when a user health check is verified.\"}},\"kind\":\"user\",\"methods\":{\"checkHealth(bytes,uint256[])\":{\"notice\":\"Performs a health check for the calling user.\"},\"healthPolicy()\":{\"notice\":\"Reference to the HealthPolicy contract.\"}},\"notice\":\"Demonstrates how a real protocol integrates a Plight-style health check.  INTEGRATION GUIDE: 1. Protocol holds a reference to the Policy contract (HealthPolicy). 2. Protocol does NOT perform eligibility logic itself. 3. Protocol accepts a proof from the user and delegates verification to the Policy.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/SampleProtocol.sol\":\"SampleProtocol\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"src/SampleProtocol.sol\":{\"keccak256\":\"0xba6b9416282eede40815227a029ca473c33c3ed8f29ec8f3418bc141773c3dba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0f6fa737e7a279974d38c0dc20fe42fa0570bfccc2122e8e85e352fbe0914142\",\"dweb:/ipfs/QmXHCqSh53qN1BfmWruicRBUt3ZAcMUW3Pf2u2rSX7T1DT\"]}},\"version\":1}"}}}}}